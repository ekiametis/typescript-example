{"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.spec.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.spec.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":30},"end":{"line":5,"column":83}},"4":{"start":{"line":6,"column":0},"end":{"line":25,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":14,"column":7}},"6":{"start":{"line":8,"column":24},"end":{"line":8,"column":108}},"7":{"start":{"line":9,"column":21},"end":{"line":9,"column":64}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":48}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":56}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":58}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":64}},"12":{"start":{"line":15,"column":4},"end":{"line":24,"column":7}},"13":{"start":{"line":16,"column":8},"end":{"line":23,"column":9}},"14":{"start":{"line":17,"column":28},"end":{"line":17,"column":112}},"15":{"start":{"line":18,"column":12},"end":{"line":18,"column":56}},"16":{"start":{"line":19,"column":12},"end":{"line":19,"column":56}},"17":{"start":{"line":22,"column":12},"end":{"line":22,"column":91}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":30},"end":{"line":6,"column":31}},"loc":{"start":{"line":6,"column":36},"end":{"line":25,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":44},"end":{"line":7,"column":45}},"loc":{"start":{"line":7,"column":56},"end":{"line":14,"column":5}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":61},"end":{"line":15,"column":62}},"loc":{"start":{"line":15,"column":73},"end":{"line":24,"column":5}},"line":15}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.spec.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.spec.ts"],"names":[],"mappings":";;AAAA,+BAA8B;AAC9B,wBAAsC;AACtC,oFAA8E;AAE9E,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;IAE/B,EAAE,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;QAC/C,MAAM,OAAO,GAAG,EAAE,IAAI,EAAE,mBAAmB,EAAE,KAAK,EAAE,sBAAsB,EAAE,QAAQ,EAAE,YAAY,EAAE,CAAA;QACpG,MAAM,IAAI,GAAG,MAAM,oBAAiB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACtD,aAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACjC,aAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACzC,aAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC3C,aAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IACrD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,oDAAoD,EAAE,KAAK,IAAI,EAAE;QAChE,IAAI;YACA,MAAM,OAAO,GAAG,EAAE,IAAI,EAAE,mBAAmB,EAAE,KAAK,EAAE,sBAAsB,EAAE,QAAQ,EAAE,YAAY,EAAE,CAAA;YACpG,MAAM,oBAAiB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACzC,MAAM,oBAAiB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;SAC5C;QAAC,OAAM,GAAG,EAAE;YACT,aAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,sCAAgB,CAAC,CAAC;SACrD;IACL,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAA","sourcesContent":["import { expect } from 'chai';\nimport { createUserUseCase } from '.';\nimport { UserAlreadyExist } from '../../exceptions/users/user-already-exists';\n\ndescribe('Create User Tests', () => {\n\n    it('should create a user with success', async () => {\n        const payload = { name: 'Emmanuel Kiametis', email: 'kiametis91@gmail.com', birthday: '1991-08-28' }\n        const user = await createUserUseCase.execute(payload);\n        expect(user).have.property('id');\n        expect(user.name).to.be.eq(payload.name);\n        expect(user.email).to.be.eq(payload.email);\n        expect(user.birthday).to.be.eq(payload.birthday);\n    });\n\n    it('should not create a user because he already exists', async () => {\n        try {\n            const payload = { name: 'Emmanuel Kiametis', email: 'kiametis91@gmail.com', birthday: '1991-08-28' }\n            await createUserUseCase.execute(payload);\n            await createUserUseCase.execute(payload);\n        } catch(err) {\n            expect(err).to.be.an.instanceof(UserAlreadyExist);\n        }\n    });\n})"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e663de5566627f170012f010eb8811b638f35d91","contentHash":"559274fa5c2923c336e65634523fa4b8ed4796f407c0613662b18c6cba09cffe"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/index.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":66}},"2":{"start":{"line":4,"column":33},"end":{"line":4,"column":90}},"3":{"start":{"line":5,"column":31},"end":{"line":5,"column":64}},"4":{"start":{"line":6,"column":33},"end":{"line":6,"column":68}},"5":{"start":{"line":7,"column":23},"end":{"line":7,"column":74}},"6":{"start":{"line":8,"column":26},"end":{"line":8,"column":86}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":46}},"8":{"start":{"line":10,"column":29},"end":{"line":10,"column":97}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":52}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/index.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/index.ts"],"names":[],"mappings":";;;AACA,2FAAsF;AACtF,iEAA2D;AAC3D,qEAAgE;AAEhE,MAAM,cAAc,GAAoB,IAAI,6CAAoB,EAAE,CAAC;AAEnE,MAAM,iBAAiB,GAAG,IAAI,wCAAiB,CAAC,cAAc,CAAC,CAAC;AAIvD,8CAAiB;AAF1B,MAAM,oBAAoB,GAAyB,IAAI,6CAAoB,CAAC,iBAAiB,CAAC,CAAC;AAEnE,oDAAoB","sourcesContent":["import { IUserRepository } from \"../../repositories/user/user-repository\";\nimport { MemoryUserRepository } from \"../../repositories/user/memory-user-repository\";\nimport { CreateUserUseCase } from \"./create-user-use-case\";\nimport { CreateUserController } from \"./create-user-controller\";\n\nconst userRepository: IUserRepository = new MemoryUserRepository();\n\nconst createUserUseCase = new CreateUserUseCase(userRepository);\n\nconst createUserController: CreateUserController = new CreateUserController(createUserUseCase);\n\nexport { createUserUseCase, createUserController }"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"617ecce6a7acaa828e182dd2a3ad6430f8073464","contentHash":"87e992e75a7335368769329a8b0df0783667467af2cc891f551cc15926a25586"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/repositories/user/memory-user-repository.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/repositories/user/memory-user-repository.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":24}},"3":{"start":{"line":9,"column":8},"end":{"line":12,"column":11}},"4":{"start":{"line":10,"column":30},"end":{"line":10,"column":69}},"5":{"start":{"line":10,"column":51},"end":{"line":10,"column":68}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":31}},"7":{"start":{"line":15,"column":8},"end":{"line":18,"column":11}},"8":{"start":{"line":16,"column":12},"end":{"line":16,"column":34}},"9":{"start":{"line":17,"column":12},"end":{"line":17,"column":26}},"10":{"start":{"line":21,"column":8},"end":{"line":24,"column":11}},"11":{"start":{"line":22,"column":30},"end":{"line":22,"column":63}},"12":{"start":{"line":22,"column":51},"end":{"line":22,"column":62}},"13":{"start":{"line":23,"column":12},"end":{"line":23,"column":31}},"14":{"start":{"line":27,"column":0},"end":{"line":27,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":23},"end":{"line":13,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":27},"end":{"line":9,"column":28}},"loc":{"start":{"line":9,"column":40},"end":{"line":12,"column":9}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":46},"end":{"line":10,"column":47}},"loc":{"start":{"line":10,"column":51},"end":{"line":10,"column":68}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":15},"end":{"line":19,"column":5}},"line":14},"5":{"name":"(anonymous_5)","decl":{"start":{"line":15,"column":27},"end":{"line":15,"column":28}},"loc":{"start":{"line":15,"column":40},"end":{"line":18,"column":9}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":17},"end":{"line":25,"column":5}},"line":20},"7":{"name":"(anonymous_7)","decl":{"start":{"line":21,"column":27},"end":{"line":21,"column":28}},"loc":{"start":{"line":21,"column":40},"end":{"line":24,"column":9}},"line":21},"8":{"name":"(anonymous_8)","decl":{"start":{"line":22,"column":46},"end":{"line":22,"column":47}},"loc":{"start":{"line":22,"column":51},"end":{"line":22,"column":62}},"line":22}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":1,"6":2,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":2,"2":2,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/repositories/user/memory-user-repository.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/repositories/user/memory-user-repository.ts"],"names":[],"mappings":";;;AAGA,MAAa,oBAAoB;IAAjC;QAEI,UAAK,GAAW,EAAE,CAAC;IAuBvB,CAAC;IArBG,WAAW,CAAC,KAAa;QACrB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC;YAC1D,OAAO,CAAC,SAAS,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,IAAI,CAAC,IAAU;QACX,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC3B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtB,OAAO,CAAC,IAAI,CAAC,CAAC;QAClB,CAAC,CAAC,CAAA;IACN,CAAC;IAED,QAAQ,CAAC,EAAU;QACf,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC3B,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;YACpD,OAAO,CAAC,SAAS,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;CAEJ;AAzBD,oDAyBC","sourcesContent":["import { IUserRepository } from \"./user-repository\";\nimport { User } from \"../../entities/user\";\n\nexport class MemoryUserRepository implements IUserRepository {\n\n    users: User[] = [];\n    \n    findByEmail(email: string): Promise<User> {\n        return new Promise((resolve) => {\n            const userFound = this.users.find(u => u.email === email);\n            resolve(userFound);\n        });\n    }\n\n    save(user: User): Promise<User> {\n        return new Promise((resolve) => {\n            this.users.push(user);\n            resolve(user);\n        })\n    }\n\n    findById(id: string): Promise<User> {\n        return new Promise((resolve) => {\n            const userFound = this.users.find(u => u.id === id);\n            resolve(userFound);\n        });\n    }\n\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cc8e724a24b47bc5b7c13a14cd6fb491d84de904","contentHash":"7d97dae0496bd5333491b0eac4666ce5075444daef9c16eae36d7136c8abc202"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":30},"end":{"line":4,"column":83}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":45}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":45}},"5":{"start":{"line":11,"column":34},"end":{"line":11,"column":83}},"6":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":85}},"8":{"start":{"line":15,"column":21},"end":{"line":15,"column":42}},"9":{"start":{"line":16,"column":26},"end":{"line":16,"column":62}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":25}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":32},"end":{"line":9,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":24},"end":{"line":18,"column":5}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},{"start":{"line":12,"column":8},"end":{"line":14,"column":9}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1,"1":2},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-use-case.ts"],"names":[],"mappings":";;;AAEA,oFAA8E;AAC9E,8CAA2C;AAE3C,MAAa,iBAAiB;IAE1B,YACY,cAA+B;QAA/B,mBAAc,GAAd,cAAc,CAAiB;IACxC,CAAC;IAEJ,KAAK,CAAC,OAAO,CAAC,IAA2B;QACrC,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5E,IAAG,iBAAiB,EAAE;YAClB,MAAM,IAAI,sCAAgB,CAAC,sBAAsB,CAAC,CAAC;SACtD;QACD,MAAM,IAAI,GAAG,IAAI,WAAI,CAAC,IAAI,CAAC,CAAC;QAC5B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACvD,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AAfD,8CAeC","sourcesContent":["import { IUserRepository } from \"../../repositories/user/user-repository\";\nimport { ICreateUserRequestDTO } from \"./create-user-dto\";\nimport { UserAlreadyExist } from \"../../exceptions/users/user-already-exists\";\nimport { User } from \"../../entities/user\";\n\nexport class CreateUserUseCase {\n\n    constructor(\n        private userRepository: IUserRepository,\n    ) {}\n\n    async execute(data: ICreateUserRequestDTO): Promise<User> {\n        const userAlreadyExists = await this.userRepository.findByEmail(data.email);\n        if(userAlreadyExists) {\n            throw new UserAlreadyExist(`User already exists.`);\n        }\n        const user = new User(data);\n        const userFound = await this.userRepository.save(user);\n        return userFound;\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a5ef5896e10928d78dba15b8249555bacefb9ece","contentHash":"c8c089aee92d5a0442ecf39b2c73535944445790b88ef569ac662c339b316f55"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/users/user-already-exists.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/users/user-already-exists.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":23}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":25},"end":{"line":7,"column":5}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/users/user-already-exists.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/users/user-already-exists.ts"],"names":[],"mappings":";;;AAAA,MAAa,gBAAiB,SAAQ,KAAK;IAEvC,YAAY,OAAe;QACvB,KAAK,CAAC,OAAO,CAAC,CAAC;IACnB,CAAC;CACJ;AALD,4CAKC","sourcesContent":["export class UserAlreadyExist extends Error {\n\n    constructor(message: string){\n        super(message);\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bac863b124a9f0d3c500cb897d58a47499261832","contentHash":"bb4565ecb95e9ad0a1f9047dbffdd64b57e438c2b11352e647aabb8d8231d519"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/entities/user.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/entities/user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":30}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":35}},"4":{"start":{"line":8,"column":8},"end":{"line":10,"column":9}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":34}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":27},"end":{"line":11,"column":5}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":8},"end":{"line":10,"column":9}},"type":"if","locations":[{"start":{"line":8,"column":8},"end":{"line":10,"column":9}},{"start":{"line":8,"column":8},"end":{"line":10,"column":9}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/entities/user.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/entities/user.ts"],"names":[],"mappings":";;;AAAA,+BAAkC;AAGlC,MAAa,IAAI;IAOb,YAAY,KAAuB,EAAE,EAAW;QAC5C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC3B,IAAG,CAAC,EAAE,EAAE;YACJ,IAAI,CAAC,EAAE,GAAG,SAAI,EAAE,CAAC;SACpB;IACL,CAAC;CACJ;AAbD,oBAaC","sourcesContent":["import { v4 as uuid } from 'uuid';\nimport { IEntity } from './entity';\n\nexport class User implements IEntity{\n\n    public readonly id: string;\n    public name: string;\n    public email: string;\n    public birthday: string;\n\n    constructor(props: Omit<User, 'id'>, id?: string) {\n        Object.assign(this, props);\n        if(!id) {\n            this.id = uuid();\n        }\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"00db17cc833de1f428b227242f05b185a58b24b6","contentHash":"7d3ae3471ec672daa012618883db3b57050c8d1036b4ddd76e6720d8e1df42c3"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-controller.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"2":{"start":{"line":4,"column":30},"end":{"line":4,"column":83}},"3":{"start":{"line":5,"column":27},"end":{"line":5,"column":66}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":72}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":51}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":45}},"7":{"start":{"line":13,"column":42},"end":{"line":13,"column":50}},"8":{"start":{"line":14,"column":8},"end":{"line":24,"column":9}},"9":{"start":{"line":15,"column":32},"end":{"line":15,"column":95}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":91}},"11":{"start":{"line":19,"column":33},"end":{"line":19,"column":36}},"12":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"13":{"start":{"line":21,"column":16},"end":{"line":21,"column":133}},"14":{"start":{"line":23,"column":12},"end":{"line":23,"column":33}},"15":{"start":{"line":27,"column":0},"end":{"line":27,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":35},"end":{"line":11,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":33},"end":{"line":25,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},{"start":{"line":20,"column":12},"end":{"line":22,"column":13}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"f":{"0":1,"1":0},"b":{"0":[0,0]},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-controller.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/use-cases/create-user/create-user-controller.ts"],"names":[],"mappings":";;;AAEA,oFAA8E;AAC9E,mEAA8D;AAC9D,yEAAqE;AAErE,MAAa,oBAAoB;IAE7B,YACY,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;QAE5C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,KAAK,CAAC,MAAM,CAAE,GAAY,EAAE,GAAa,EAAE,IAAkB;QACzD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QAC3C,IAAI;YACA,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC;YACpF,OAAO,GAAG,CAAC,MAAM,CAAC,iCAAc,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAC/D;QAAC,OAAM,GAAG,EAAE;YACT,IAAI,cAAc,GAAG,GAAG,CAAC;YACzB,IAAG,GAAG,YAAY,sCAAgB,EAAE;gBAChC,cAAc,GAAG,8BAAa,CAAC,KAAK,CAAC,iCAAc,CAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;aACpF;YACD,IAAI,CAAC,cAAc,CAAC,CAAC;SACxB;IACL,CAAC;CACJ;AArBD,oDAqBC","sourcesContent":["import { CreateUserUseCase } from \"./create-user-use-case\";\nimport { Request, Response, NextFunction } from \"express\";\nimport { UserAlreadyExist } from \"../../exceptions/users/user-already-exists\";\nimport { HttpStatusCode } from \"../../enums/http-status-code\";\nimport { HttpException } from \"../../exceptions/http/http-exception\";\n\nexport class CreateUserController {\n\n    constructor (\n        private createUserUseCase: CreateUserUseCase,\n    ) {\n        this.handle = this.handle.bind(this);\n    }\n\n    async handle (req: Request, res: Response, next: NextFunction): Promise<Response> {\n        const { name, email, birthday } = req.body;\n        try {\n            const userCreated = await this.createUserUseCase.execute({ name, email, birthday });\n            return res.status(HttpStatusCode.CREATED).json(userCreated);\n        } catch(err) {\n            let formattedError = err;\n            if(err instanceof UserAlreadyExist) {\n                formattedError = HttpException.build(HttpStatusCode.CONFLICT, 1000, err.message);\n            }\n            next(formattedError);\n        }\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ab32b3a00707a180d94527146bf069681d03adce","contentHash":"a7947f0b9b850a29bf14abff0879d2dbdabcd0068321d78e05c12088a572662b"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/enums/http-status-code.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/enums/http-status-code.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":5,"column":0},"end":{"line":14,"column":77}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":64}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":64}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":70}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":72}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":68}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":66}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":90}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":92}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":27},"end":{"line":14,"column":1}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":20},"end":{"line":14,"column":75}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":42}},{"start":{"line":14,"column":47},"end":{"line":14,"column":74}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/enums/http-status-code.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/enums/http-status-code.ts"],"names":[],"mappings":";;;AAAA,IAAY,cAWX;AAXD,WAAY,cAAc;IACtB,2DAAa,CAAA;IACb,2DAAa,CAAA;IACb,iEAAgB,CAAA;IAEhB,mEAAiB,CAAA;IACjB,+DAAe,CAAA;IACf,6DAAc,CAAA;IACd,qFAA0B,CAAA;IAE1B,uFAA2B,CAAA;AAC/B,CAAC,EAXW,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAWzB","sourcesContent":["export enum HttpStatusCode {\n    SUCCESS = 200,\n    CREATED = 201,\n    NO_CONTENT = 204,\n\n    BAD_REQUEST = 400,\n    NOT_FOUND = 404,\n    CONFLICT = 409,\n    UNPROCESSABLE_ENTITY = 422,\n\n    INTERNAL_SERVER_ERROR = 500,\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0a6dab6e1a6b57a48144ace8b07600606694e9e7","contentHash":"201cf3d386390a69280a74a7ab2764ccfa8b0bd432573b6061487ab6cf29201e"},"/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/http/http-exception.ts":{"path":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/http/http-exception.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":25}},"3":{"start":{"line":9,"column":21},"end":{"line":9,"column":64}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":39}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":91}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":39}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":40}},"8":{"start":{"line":20,"column":8},"end":{"line":20,"column":35}},"9":{"start":{"line":23,"column":8},"end":{"line":23,"column":38}},"10":{"start":{"line":26,"column":8},"end":{"line":26,"column":36}},"11":{"start":{"line":29,"column":8},"end":{"line":29,"column":39}},"12":{"start":{"line":32,"column":8},"end":{"line":32,"column":44}},"13":{"start":{"line":35,"column":0},"end":{"line":35,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":22},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":58},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":95},"end":{"line":15,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":29},"end":{"line":18,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":24},"end":{"line":21,"column":5}},"line":19},"5":{"name":"(anonymous_5)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":27},"end":{"line":24,"column":5}},"line":22},"6":{"name":"(anonymous_6)","decl":{"start":{"line":25,"column":4},"end":{"line":25,"column":5}},"loc":{"start":{"line":25,"column":25},"end":{"line":27,"column":5}},"line":25},"7":{"name":"(anonymous_7)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":28},"end":{"line":30,"column":5}},"line":28},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":19},"end":{"line":33,"column":5}},"line":31}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/http/http-exception.ts","sources":["/home/emmanuelkiametis/dev/teste/typescript/example2/src/exceptions/http/http-exception.ts"],"names":[],"mappings":";;;AAYA,MAAa,aAAa;IAEtB,YAA4B,IAAoB;QAApB,SAAI,GAAJ,IAAI,CAAgB;IAAG,CAAC;IAEpD,MAAM,CAAC,KAAK,CACR,cAA8B,EAC9B,SAAiB,EACjB,YAAoB;QAEpB,MAAM,IAAI,GAAG,EAAE,cAAc,EAAE,SAAS,EAAE,YAAY,EAAE,CAAA;QACxD,OAAO,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,MAAM,CAAC,eAAe,CAClB,cAA8B,EAC9B,SAAiB,EACjB,YAAoB,EACpB,UAAkB,EAClB,aAAqB;QAErB,MAAM,IAAI,GAAG,EAAE,cAAc,EAAE,SAAS,EAAE,YAAY,EAAE,UAAU,EAAE,aAAa,EAAE,CAAA;QACnF,OAAO,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,sBAAsB;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC;IACpC,CAAC;IAED,iBAAiB;QACb,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;IAC/B,CAAC;IAED,oBAAoB;QAChB,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;IAClC,CAAC;IAED,kBAAkB;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;IAChC,CAAC;IAED,qBAAqB;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;IACnC,CAAC;IAED,YAAY;QACR,yBAAY,IAAI,CAAC,IAAI,EAAE;IAC3B,CAAC;CACJ;AA/CD,sCA+CC","sourcesContent":["import { HttpStatusCode } from \"../../enums/http-status-code\";\n\n\nexport interface IHttpException {\n\n    httpStatusCode: HttpStatusCode;\n    errorCode: number;\n    errorMessage: string;\n    detailCode?: number;\n    detailMessage?: string;\n}\n\nexport class HttpException {\n\n    private constructor(private data: IHttpException) {}\n\n    static build(\n        httpStatusCode: HttpStatusCode,\n        errorCode: number,\n        errorMessage: string,\n    ): HttpException {\n        const data = { httpStatusCode, errorCode, errorMessage }\n        return new HttpException(data);\n    }\n\n    static buildWithDetail(\n        httpStatusCode: HttpStatusCode,\n        errorCode: number,\n        errorMessage: string,\n        detailCode: number,\n        detailMessage: string,\n    ): HttpException {\n        const data = { httpStatusCode, errorCode, errorMessage, detailCode, detailMessage }\n        return new HttpException(data);\n    }\n\n    retrieveHttpStatusCode(): number {\n        return this.data.httpStatusCode;\n    }\n\n    retrieveErrorCode(): number {\n        return this.data.errorCode;\n    }\n\n    retrieveErrorMessage(): string {\n        return this.data.errorMessage;\n    }\n\n    retrieveDetailCode(): number {\n        return this.data.detailCode;\n    }\n\n    retrieveDetailMessage(): string {\n        return this.data.detailMessage;\n    }\n\n    formatToJSON(): IHttpException {\n        return { ...this.data }\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"13af78d5a1bee37cfebd1f277533346d3f5476bd","contentHash":"fdd8a2ae728488046d2eda6b5c4e89a7b25b1e8cdb654d6bbd13244dcb20200d"}}